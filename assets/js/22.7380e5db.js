(window.webpackJsonp=window.webpackJsonp||[]).push([[22,25,26,27,28,30],{199:function(t,e,n){},200:function(t,e,n){},201:function(t,e,n){},202:function(t,e,n){},209:function(t,e,n){"use strict";n.r(e);var s={props:{type:{type:String,default:"default"},title:String,disabled:Boolean}},a=(n(211),n(0)),i=Object(a.a)(s,(function(){var t=this;return(0,t._self._c)("button",{class:t.type,attrs:{title:t.disabled?"":t.title,disabled:t.disabled},on:{click:function(e){return e.stopPropagation(),t.$emit("click")}}},[t._t("default")],2)}),[],!1,null,"59a796d2",null);e.default=i.exports},210:function(t,e,n){"use strict";function s(t,e,...n){const s=t[e];s instanceof Array?s.forEach(t=>t(...n)):s instanceof Function&&s(...n)}function a(t,e){e.forEach(e=>{t.dataset[e]=t.style[e]})}function i(t,e){e.forEach(e=>{t.style[e]=t.dataset[e]})}n.r(e);var r={functional:!0,props:{direction:{type:String,default:"vertical"},duration:{type:Number,default:.3},timingFunction:{type:String,default:"ease-in-out"}},render(t,{props:{direction:e,duration:n,timingFunction:r},listeners:l,children:c}){let o,u,h,d;"horizontal"===e?(o="width",d="scrollWidth",h="paddingLeft",u="paddingRight"):(o="height",d="scrollHeight",h="paddingTop",u="paddingBottom");const f=function(t,e,n){return t.filter(t=>!t.startsWith("transition")).map(t=>{return`${e}s ${n} ${s=t,s.replace(/[A-Z]/g,t=>"_"+t.toLowerCase())}`;var s}).join(",")}([o,u,h],n,r);return t("transition",{attrs:{css:!1},on:{beforeEnter(t){s(l,"before-enter",t),a(t,["transition",u,h]),t.style.transition=f,t.style[h]="0",t.style[u]="0",t.style[o]="0"},enter(t,e){t.dataset.overflow=t.style.overflow,i(t,[u,h]),t.style[o]=t[d]?t[d]+"px":"",t.style.overflow="hidden",setTimeout(e,1e3*n)},afterEnter(t){t.style[o]="",i(t,["overflow","transition"]),s(l,"after-enter",t)},beforeLeave(t){s(l,"before-leave",t),a(t,["overflow","transition",u,h]),t.style[o]=t[d]+"px",t.style.overflow="hidden"},leave(t,e){0!==t[d]&&(t.style.transition=f,t.style[o]="0",t.style[u]="0",t.style[h]="0"),setTimeout(e,1e3*n)},afterLeave(t){t.style[o]="",i(t,[u,h,"overflow","transition"]),s(l,"after-leave",t)}}},c)}},l=n(0),c=Object(l.a)(r,void 0,void 0,!1,null,null,null);e.default=c.exports},211:function(t,e,n){"use strict";n(199)},212:function(t,e,n){"use strict";n(200)},213:function(t,e,n){"use strict";n(201)},214:function(t,e,n){"use strict";n(202)},228:function(t,e,n){},229:function(t,e){const n=[[[1,"空崎ヒナ","日奈","a",[]],[2,"天雨アコ","亚子","a",[]],[3,"銀鏡イオリ","伊织","a",[]],[4,"火宫チナツ","千夏","a",[]],[5,"棗イロハ","伊吕波","a",[]],[6,"羽沼マコト","真琴","a",[]],[7,"丹花イブキ","伊吹","a",[]],[8,"京極サツキ","皐月","a",[]],[9,"元宮チアキ","千秋","a",[]],[10,"陸八魔アル","阿露","a",[]],[11,"浅黄ムツキ","睦月","a",[]],[12,"鬼方カヨコ","佳代子","a",[]],[13,"伊草ハルカ","遥香","a",[]],[14,"黒舘ハルナ","晴奈","a",[]],[15,"赤司ジュンコ","淳子","a",[]],[16,"鰐渕アカリ","明里","a",[]],[17,"獅子堂イズミ","泉","a",[]],[18,"愛清フウカ","枫香","a",[]],[19,"牛牧ジュリ","朱莉","a",[]],[20,"氷室セナ","濑名","a",[]],[21,"下倉メグ","惠","a",[]],[22,"鬼怒川カスミ","霞","a",[]],[23,"夜桜キララ","绮良","a",[]],[24,"早瀬ユウカ","优香","b",[]],[25,"生塩ノア","诺亚","b",[]],[26,"黒崎コユキ","小雪","b",[]],[27,"調月リオ","莉音","b",[]],[28,"美甘ネル","尼禄","b",[]],[29,"一之瀬アスナ","明日奈","b",[]],[30,"角楯カリン","花凛","b",[]],[31,"室笠アカネ","朱音","b",[]],[32,"飛鳥馬トキ","时","b",[]],[33,"白石ウタハ","歌原","b",[]],[34,"猫塚ヒビキ","响","b",[]],[35,"豊見コトリ","柯托莉","b",[]],[36,"花岡ユズ","柚子","b",[]],[37,"才羽モモイ","桃井","b",[]],[38,"才羽ミドリ","绿","b",[]],[39,"天童アリス","爱丽丝","b",[]],[40,"各務チヒロ","千寻","b",[]],[41,"小塗マキ","真纪","b",[]],[42,"小鈎ハレ","晴","b",[]],[43,"音瀬コタマ","小玉","b",[]],[44,"明星ヒマリ","日鞠","b",[]],[45,"和泉元エイミ","艾米","b",[]],[46,"乙花スミレ","菫","b",[]],[47,"野正レイ","丽","b",[]],[48,"聖園ミカ","未花","c",[]],[49,"桐藤ナギサ","渚","c",[]],[50,"百合園セイア","圣娅","c",[]],[51,"剣先ツルギ","鹤城","c",[]],[52,"羽川ハスミ","莲见","c",[]],[53,"静山マシロ","真白","c",[]],[54,"仲正イチカ","一花","c",[]],[55,"歌住サクラコ","樱子","c",[]],[56,"伊落マリー","玛丽","c",[]],[57,"若葉ヒナタ","日向","c",[]],[58,"蒼森ミネ","美祢","c",[]],[59,"鷲見セリナ","芹娜","c",[]],[60,"朝顔ハナエ","花江","c",[]],[61,"阿慈谷ヒフミ","日富美","c",[]],[62,"白洲アズサ","梓","c",[]],[63,"下江コハル","小春","c",[]],[64,"浦和ハナコ","花子","c",[]],[65,"柚鳥ナツ","夏","c",[]],[66,"杏山カズサ","和纱","c",[]],[67,"伊原木ヨシミ","好美","c",[]],[68,"栗村アイリ","爱莉","c",[]],[69,"守月スズミ","铃美","c",[]],[70,"宇沢レイサ","玲纱","c",[]],[71,"古関ウイ","忧","c",[]],[72,"円堂シミコ","志美子","c",[]],[73,"錠前サオリ","纱织","h",[]],[74,"秤アツコ","亚津子","h",[]],[75,"戒野ミサキ","美咲","h",[]],[76,"槌永ヒヨリ","日和","h",[]],[77,"小鳥遊ホシノ","星野","i",[]],[78,"砂狼シロコ","白子","i",[]],[79,"十六夜ノノミ","野宫","i",[]],[80,"黒見セリカ","芹香","i",[]],[81,"奥空アヤネ","绫音","i",[]],[82,"シロコ＊テラー","白子（恐怖）","i",[]],[83,"狐坂ワカモ","若藻","d",[]],[84,"桑上カホ","果穗","d",[]],[85,"和楽チセ","千世","d",[]],[86,"天地ニヤ","妮娅","d",[]],[87,"千鳥ミチル","满","d",[]],[88,"大野ツクヨ","月咏","d",[]],[89,"久田イズナ","泉奈","d",[]],[90,"河和シズコ","静子","d",[]],[91,"朝比奈フィーナ","菲娜","d",[]],[92,"里浜ウミカ","海香","d",[]],[93,"春日ツバキ","椿","d",[]],[94,"水羽ミモリ","三森","d",[]],[95,"勇美カエデ","枫","d",[]],[96,"勘解由小路ユカリ","缘里","d",[]],[97,"不破レンゲ","莲华","d",[]],[98,"桐生キキョウ","桔梗","d",[]],[99,"御稜ナグサ","名草","d",[]],[100,"竜華キサキ","妃咲","e",[]],[101,"近衛ミナ","南","e",[]],[102,"朱城ルミ","瑠美","e",[]],[103,"鹿山レイジョ","丽情","e",[]],[104,"春原シュン","瞬","e",[]],[105,"春原シュン（幼女）","瞬（幼女）","e",[]],[106,"春原ココナ","心奈","e",[]],[107,"薬子サヤ","纱绫","e",[]],[108,"連河チェリノ","切里诺","f",[]],[109,"佐城トモエ","巴","f",[]],[110,"池倉マリナ","玛丽娜","f",[]],[111,"天見ノドカ","和香","f",[]],[112,"間宵シグレ","时雨","f",[]],[113,"安守ミノリ","实梨","f",[]],[114,"姫木メル","梅露","f",[]],[115,"秋泉モミジ","红叶","f",[]],[116,"尾刃カンナ","康娜","g",[]],[117,"中務キリノ","桐乃","g",[]],[118,"合歓垣フブキ","吹雪","g",[]],[119,"月雪ミヤコ","宫子","g",[]],[120,"空井サキ","咲","g",[]],[121,"風倉モエ","萌绘","g",[]],[122,"霞沢ミユ","美游","g",[]],[123,"初音ミク","初音未来","y",[]],[124,"御坂美琴","御坂美琴","y",[]],[125,"食蜂操祈","食蜂操祈","y",[]],[126,"佐天涙子","佐天泪子","y",[]],[127,"内海アオバ","青叶","j",[]],[128,"橘ヒカリ","光","j",[]],[129,"橘ノゾミ","望","j",[]],[130,"白尾エリ","绘里","k",[]],[131,"板垣カノエ","鹿江","k",[]],[132,"桜井ミヨ","美代","k",[]],[133,"若狭フユ","冬","k",[]],[134,"薄葉リツ","律","k",[]],[135,"ケイ","柯伊","b",[]],[301,"アロナ","阿罗娜","M",[]],[302,"プラナ","普拉娜","M",[]],[303,"ソラ","空","M",[]],[304,"七神リン","凛","M",[]],[305,"由良木モモカ","桃香","M",[]],[306,"不知火カヤ","花耶","M",[]],[307,"岩櫃アユム","步美","M",[]],[308,"扇喜アオイ","葵","M",[]],[309,"スモモ","李","M",[]],[310,"ハイネ","灰音","M",[]],[311,"連邦生徒会長","会长","M",[]],[312,"旗見エリカ","绘里香","A",[]],[313,"クズノハ","葛叶","D",[]],[314,"七度ユキノ","雪乃","G",[]],[315,"ニコ","妮可","G",[]],[316,"クルミ","胡桃","G",[]],[317,"オトギ","音葵","G",[]],[318,"川流シノン","志乃","L",[]],[319,"風巻マイ","麦","L",[]],[320,"河駒風ラブ","兰舞","c",[]],[321,"ケイ（旧）","柯伊（旧）","B",[]],[322,"清澄アキラ","晶","K",[]],[323,"申谷カイ","廻","E",[]],[324,"三善タカネ","贵音","f",[]],[325,"荒槇ヤクモ","八云","f",[]],[326,"箭吹シュロ","棕榈","D",[]],[327,"アラタ","新","D",[]],[328,"コクリコ","虞美人","D",[]],[329,"梔子ユメ","梦","I",[]],[330,"小鳥遊ホシノ（1年生）","星野（1年级）","I",[]],[331,"小鳥遊ホシノ（2年生）","星野（2年级）","I",[]],[332,"十六夜ノノミ（1年生）","野宫（1年级）","I",[]],[333,"砂狼シロコ（1年生）","白子（1年级）","I",[]],[334,"朝霧スオウ","周防","J",[]],[335,"椎名ツムギ","䌷","K",[]],[336,"コノカ","木乃香","G",[]],[337,"栗浜アケミ","明美","Y",[]],[338,"ホシノ＊テラー","星野（恐怖）","L",[]],[339,"ニヤニヤ教授","笑笑教授","Y",[]],[340,"漆原カグヤ","辉夜","E",[]],[341,"朱城ルミ（幼女）","瑠美（幼女）","E",[]],[342,"ミライ","未来","B",[]],[343,"ケイ（AMAS）","柯伊（AMAS）","B",[]],[344,"土生アザミ","浅见","D",[]],[345,"七稜アヤメ","菖蒲","D",[]],[346,"衣斐レナ","蕾娜","K",[]],[347,"立木マイア","舞爱","H",[]],[348,"梯スバル","昴","h",[]],[349,"ヒロミ","广美","K",[]],[601,"正義実現委員会部員","正义实现委员会部员","Z",[]],[602,"トリニティ生徒","三一学生","Z",[]],[603,"ティーパーティーA","茶会学生A","Z",[]],[604,"ティーパーティーB","茶会学生B","Z",[]],[605,"シスターフッド","修女会成员","Z",[]],[606,"ミレニアム生徒A","千年学生A","Z",[]],[607,"ミレニアム生徒B","千年学生B","Z",[]],[608,"万魔殿","万魔殿学生","Z",[]],[609,"風紀委員","风纪委员","Z",[]],[610,"救急医学部員","急救医学部部员","Z",[]],[611,"ゲヘナ生徒","格黑娜学生","Z",[]],[612,"温泉開発部員","温泉开发部部员","Z",[]],[613,"アリウス生徒A","阿里乌斯学生A","Z",[]],[614,"アリウス生徒B","阿里乌斯学生B","Z",[]],[615,"ユスティナ信徒","优斯提那信徒","Z",[]],[617,"バルバラ","芭芭拉","Z",[]],[618,"暴走族ボス","飙车党首领","Z",[]],[619,"暴走族","飙车党","Z",[]],[620,"百鬼夜行生徒A","百鬼夜行学生A","Z",[]],[621,"百鬼夜行生徒B","百鬼夜行学生B","Z",[]],[622,"百鬼夜行生徒C","百鬼夜行学生C","Z",[]],[623,"魑魅一座（RL）","魑魅一座（RL）","Z",[]],[624,"魑魅一座（MG）","魑魅一座（MG）","Z",[]],[625,"京劇部員A","京剧部部员A","Z",[]],[626,"京劇部員B","京剧部部员B","Z",[]],[627,"玄龍門","玄龙门成员","Z",[]],[628,"玄武商会メンバー","玄武商会成员","Z",[]],[629,"山海経生徒A","山海经学生A","Z",[]],[630,"山海経生徒B","山海经学生B","Z",[]],[631,"親衛隊員","亲卫队员","Z",[]],[632,"工務部員","工务部员","Z",[]],[633,"ヴァルキューレ生徒","瓦尔基里学生","Z",[]],[634,"行政官A","行政官A","Z",[]],[635,"行政官B","行政官B","Z",[]],[636,"列車乗務員A","列车乘务员A","Z",[]],[637,"列車乗務員B","列车乘务员B","Z",[]],[638,"列車乗務員C","列车乘务员C","Z",[]],[639,"寮監隊","寮监队队员","Z",[]],[640,"ワイルドハント生徒","狂猎学生","Z",[]],[641,"スケバン（HMG）","女番长（HMG）","Z",[]],[642,"スケバン（SMG）A","女番长（SMG）A","Z",[]],[643,"スケバン（SMG）B","女番长（SMG）B","Z",[]],[644,"スケバン（SR）","女番长（SR）","Z",[]],[645,"スケバン（MG）","女番长（MG）","Z",[]],[646,"ヘルメット団幹部","钢盔团干部","Z",[]],[647,"ヘルメット団A","钢盔团成员A","Z",[]],[648,"ヘルメット団B","钢盔团成员B","Z",[]],[649,"傭兵","佣兵","Z",[]],[650,"バニーガール・ガード","兔女郎卡牌","Z",[]],[651,"マフィア","女保镖","Z",[]],[652,"人力車の生徒","人力车学生","Z",[]],[901,"アイン","无","N",[]],[902,"オウル","光","N",[]],[903,"ソフ","限","N",[]],[904,"マルクト","马尔库特","N",[]],[905,"Angel of Apocalyse","末世天使","Y",[]]]];t.exports=n.length<=1?n[0]:n},230:function(t,e){const n=[{integer:[{tag:"a",name:"格赫娜"},{tag:"b",name:"千年"},{tag:"c",name:"三一"},{tag:"d",name:"百鬼夜行"},{tag:"e",name:"山海经"},{tag:"f",name:"赤冬"},{tag:"g",name:"瓦尔基里,SRT"},{tag:"h",name:"阿里乌斯"},{tag:"i",name:"阿拜多斯"},{tag:"j",name:"海兰德"},{tag:"k",name:"狂猎"},{tag:"y",name:"其他"}],others:[{tag:"M",name:"联邦学生会,夏莱"},{tag:"A",name:"格赫娜"},{tag:"B",name:"千年"},{tag:"D",name:"百鬼夜行"},{tag:"E",name:"山海经"},{tag:"G",name:"瓦尔基里,SRT"},{tag:"H",name:"阿里乌斯"},{tag:"I",name:"阿拜多斯"},{tag:"J",name:"海兰德"},{tag:"K",name:"狂猎"},{tag:"L",name:"克洛诺斯"},{tag:"N",name:"十字神明"},{tag:"Y",name:"其他"}],old:[{tag:"Z",name:"杂鱼酱（暂不支持按学院选择）"}]}];t.exports=n.length<=1?n[0]:n},231:function(t,e,n){},232:function(t,e,n){},233:function(t,e,n){},234:function(t,e,n){},235:function(t,e,n){"use strict";n.r(e);var s={props:{value:Boolean,label:String,disabled:Boolean},model:{prop:"value",event:"update"},computed:{model:{get(){return this.value},set(t){this.$emit("update",t)}}}},a=(n(212),n(0)),i=Object(a.a)(s,(function(){var t=this,e=t._self._c;return e("label",{class:{disabled:t.disabled,checked:t.value}},[e("span",{staticClass:"checkbox"},[e("span",{staticClass:"inner"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"checkbox",disabled:t.disabled},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:function(e){var n=t.model,s=e.target,a=!!s.checked;if(Array.isArray(n)){var i=t.label,r=t._i(n,i);s.checked?r<0&&(t.model=n.concat([i])):r>-1&&(t.model=n.slice(0,r).concat(n.slice(r+1)))}else t.model=a}}})]),t._v(" "),t.$slots.default||t.label?e("span",{staticClass:"label"},[t._t("default"),t._v(" "),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])}),[],!1,null,"e1756934",null);e.default=i.exports},236:function(t,e,n){"use strict";n.r(e);var s=n(210);var a={props:{open:Boolean,initial:String},data:()=>({isOpen:!0}),components:{CollapseTransition:s.default},computed:{hasHeader(){return this.$slots.header||this.$slots["header-open"]&&this.isOpen||this.$slots["header-closed"]&&!this.isOpen}},created(){this.initial?(this.isOpen="open"===this.initial,this.onClickHeader=()=>this.isOpen=!this.isOpen):(this.isOpen=this.open,this.onClickHeader=()=>this.$emit("toggle",event),this.$watch("open",t=>{(function(t){return!0===t||!1===t})(t)&&t^this.isOpen&&(this.isOpen=t)}))}},i=(n(213),n(0)),r=Object(i.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"collapse-view"},[t.hasHeader?e("div",{staticClass:"collapse-header",on:{click:t.onClickHeader}},[t.isOpen?t._t("header-open",(function(){return[t._t("header")]})):t._t("header-closed",(function(){return[t._t("header")]}))],2):t._e(),t._v(" "),e("collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"collapse-content"},[t._t("default")],2)])],1)}),[],!1,null,"a64108b0",null);e.default=r.exports},237:function(t,e,n){"use strict";n.r(e);var s={props:{value:{},label:{},disabled:Boolean},model:{prop:"value",event:"input"},computed:{model:{get(){return this.value},set(t){this.$emit("input",t)}}}},a=(n(214),n(0)),i=Object(a.a)(s,(function(){var t=this,e=t._self._c;return e("label",{class:{disabled:t.disabled,checked:t.label===t.model}},[e("span",{staticClass:"radio"},[e("span",{staticClass:"inner"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"radio",disabled:t.disabled},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{change:function(e){t.model=t.label}}})]),t._v(" "),t.$slots.default||t.label?e("span",{staticClass:"label"},[t._t("default",(function(){return[t._v(t._s(t.label))]}))],2):t._e()])}),[],!1,null,"bdda6508",null);e.default=i.exports},257:function(t,e,n){"use strict";n(228)},258:function(t,e){const n=[["JP BFWXUSFS"]];t.exports=n.length<=1?n[0]:n},259:function(t,e,n){"use strict";n(231)},260:function(t,e,n){"use strict";n(232)},261:function(t,e,n){"use strict";n(233)},262:function(t,e,n){"use strict";n(234)},263:function(t,e,n){"use strict";n.r(e);var s=n(209),a=n(236),i={props:["node","face","rank"]},r=(n(257),n(0)),l=Object(r.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"char-view"},[e("div",{staticClass:"rank"},[t._v("第 "+t._s(t.rank)+" 位")]),t._v(" "),e("img",{attrs:{src:t.$khrisma.favoriteImage(t.node.id,t.face),alt:t.node.name}}),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.node.name))]),t._v(" "),e("div",{staticClass:"nick"},[t._v(t._s(t.node.nick))])])])}),[],!1,null,"7743c08b",null).exports,c=n(258),o=n.n(c);class u{constructor(t=0,e="",n="",s="",a={},i=[]){this.id=t,this.name=e,this.nick=n,this.appearence=s,this.meta=a,this.tags=i,this.isEven=!1,this.parent=null,this.children=[]}clone(){return new u(this.id,this.name,this.nick,this.appearence,this.meta,this.tags)}rank(){return this.parent?this.isEven?this.parent.rank():this.level():0}level(){return this.parent?this.parent.level()+1:0}add(t,e=!1){if(t.parent&&t.parent.children.splice(t.parent.children.indexOf(t),1),e){for(var n=this.children.splice(0,this.children.length),s=n.length-1;s>=0;s--)n[s].parent=t;t.children.push(...n)}this.children.push(t),t.parent=this}remove(){for(;this.children.length>0;)this.parent.add(this.children[0],!1);this.parent.children.splice(this.parent.children.indexOf(this),1)}findSortObjectById(t){if(this.id===t)return this;for(var e=this.children.length,n=0;n<e;n++){var s=this.children[n].findSortObjectById(t);if(null!==s)return s}return null}}var h=n(229),d=n.n(h),f=n(230),g=n.n(f);const v={default:"正常"},m={},p={};d.a.forEach(t=>{const e=new u(...t);p[e.name]=e,m[e.meta.alias_cn||e.name]=e.name});const _=Object.keys(p);const k={cn7:function(t){return t.map(t=>{if(t in m)return m[t]}).filter(t=>t)}(o.a)};function b(t,e){const n=e.indexOf(t);return-1===n?e.length:n}function C(t,e=_){return e.filter(e=>{for(const n of p[e].appearence)if(t.includes(n))return!0;return!1})}function y(t,e,n=0){t-=n;const s=new Array(Math.ceil(t/e)).fill(void 0);return s[s.length-1]=t%e,s.map((a,i)=>{if(i<s.length-1){const t=e*i+n;return["sm",t,e+t]}const r=t+n;return["sm",r-(t%e||e),r]})}const w={2(t){switch(t%2){case 0:return y(t,2);case 1:return[["lg",0,1],...y(t,2,1)]}},3(t){switch(t%3){case 0:return[["lg",0,1],["md",1,3],...y(t,3,3)];case 1:return[["lg",0,1],...y(t,3,1)];case 2:return[["lg",0,2],...y(t,3,2)]}},4(t){if(1===t)return[["lg",0,1]];switch(t%4){case 0:return[["lg",0,1],["sm",1,4],...y(t,4,4)];case 1:return[["lg",0,2],["sm",2,5],...y(t,4,5)];case 2:return[["lg",0,2],...y(t,4,2)];case 3:return[["lg",0,1],["md",2,3],...y(t,4,3)]}},5(t){if(1===t)return[["lg",0,1]];if(2===t)return[["lg",0,2]];if(3===t)return[["lg",0,1],["md",1,3]];switch(t%5){case 0:return[["lg",0,2],["md",2,5],...y(t,5,5)];case 1:return[["lg",0,1],["md",1,3],["md",3,6],...y(t,5,6)];case 2:return[["lg",0,1],["md",1,4],["md",4,7],...y(t,5,7)];case 3:return[["lg",0,2],["md",2,5],["md",5,8],...y(t,5,8)];case 4:return[["lg",0,1],["md",1,4],...y(t,5,4)]}},6(t){if(1===t)return[["lg",0,1]];if(2===t)return[["lg",0,2]];if(3===t)return[["lg",0,1],["md",1,3]];if(4===t)return[["lg",0,1],["md",1,4]];if(5===t)return[["lg",0,2],["md",2,5]];switch(t%6){case 0:return[["lg",0,1],["md",1,3],["md",3,6],...y(t,6,6)];case 1:return[["lg",0,1],["md",1,4],["md",4,7],...y(t,6,7)];case 2:return[["lg",0,2],["md",2,5],["md",5,8],...y(t,6,8)];case 3:return[["lg",0,2],["md",2,5],["md",5,9],...y(t,6,9)];case 4:return[["lg",0,2],["md",2,5],["sm",5,10],...y(t,6,10)];case 5:return[["lg",0,2],["md",2,6],["sm",6,11],...y(t,6,11)]}}};var x={components:{CollapseView:a.default,ResultChar:l,Button:s.default},props:["characters","ranking","face","range","questionCount"],data:()=>({width:innerWidth}),created(){this.charMap=p,this.preference=function(t,e){const{length:n}=t;let s=0;const a=C(e,k.cn7).slice(0,n),i=Array.from(new Set([...a,...t])).map(e=>{const i=b(e,t),r=b(e,a),l=1/(2+i);return s+=l,{node:p[e],value:Math.tanh((r-i)/n)*l}}),r=[];for(const t in void 0){const e=(void 0)[t],n=i.filter(({node:e})=>e.tags.includes(t));if(!n.length)continue;const a=n.reduce((t,{value:e})=>t+e,0)/s;r.push({tag:t,name:e,value:a})}return r.filter(t=>t.value>0).sort((t,e)=>t.value>e.value?-1:1)}(this.ranking,this.range),this.highPref=this.preference.filter(t=>t.value>=.2)},mounted(){this.onResize=()=>this.width=innerWidth,addEventListener("resize",this.onResize)},computed:{rankingGroups(){return function(t,e){const n=Math.max(Math.min(Math.floor((e-49)/156),6),2);return w[n](t)}(this.ranking.length,this.width)}},beforeDestroy(){removeEventListener("resize",this.onResize)}},S=(n(259),Object(r.a)(x,(function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"tac"},[t._v("您的前 "+t._s(t.ranking.length)+" 位本命角色排行")]),t._v(" "),e("div",{staticClass:"ranking"},t._l(t.rankingGroups,(function([n,s,a]){return e("div",{key:s,staticClass:"tac row"},t._l(t.ranking.slice(s,a),(function(a,i){return e("ResultChar",{key:i,class:n,attrs:{rank:i+s+1,node:t.charMap[a],face:t.face}})})),1)})),0),t._v(" "),e("collapse-view",{staticClass:"section",attrs:{initial:"open"}},[e("h3",{attrs:{slot:"header"},slot:"header"},[t._v("测试结果")]),t._v(" "),e("p",[t._v("\n      本次测试中，您通过 "+t._s(t.questionCount)+"\n      轮回答，从共计 "+t._s(t.characters.length)+"\n      名角色中选出了前 "+t._s(t.ranking.length)+" 名。\n    ")]),t._v(" "),e("table",{staticClass:"result"},[e("tr",[e("th",{staticClass:"index"},[t._v("排名")]),t._v(" "),e("th",{staticClass:"name"},[t._v("姓名")]),t._v(" "),e("th",{staticClass:"nick"},[t._v("参考译名")])]),t._v(" "),t._l(t.ranking,(function(n,s){return e("tr",{key:s},[e("td",{staticClass:"index"},[t._v(t._s(s+1))]),t._v(" "),e("td",{staticClass:"name"},[t._v(t._s(n))]),t._v(" "),e("td",{staticClass:"nick"},[t._v(t._s(t.charMap[n].nick))])])}))],2)]),t._v(" "),e("div",{staticClass:"button-container"},[e("Button",{attrs:{title:"返回主界面",type:"warning"},on:{click:function(e){return t.$emit("next","Settings")}}},[t._v("\n      返回主界面\n    ")]),t._v(" "),e("Button",{attrs:{title:"关于本命测试"},on:{click:function(e){return t.$router.push(t.UZKK_FAVORITE_BASE+"about.html")}}},[t._v("\n      关于本命测试\n    ")])],1)],1)}),[],!1,null,"00d02f5d",null).exports);class Z{constructor(){this.id=-1,this.isEven=!1,this.nodes=[],this.cTree=null}setup(t){return this.cTree=new u(0),this.nodes=[],this.init(t),this}init(t,e=this){for(const n of t.children){const t=new Z;t.id=n.id,t.isEven=n.isEven,e.nodes.push(t),this.init(n,t)}}restore(t=this,e=this.cTree){for(var n=t.nodes.length,s=0;s<n;s++){for(var a=t.nodes[s].id,i=t.nodes[s].isEven,r=null,l=0;l<d.a.length;l++)if(a===d.a[l][0]){(r=new u(...d.a[l])).isEven=i;break}null!==r&&(e.add(r,!1),this.restore(t.nodes[s],r))}return this.cTree}}var B={data:()=>({currentPair:[],questionCount:1,currentRank:0,isPrevious:!1}),methods:{init(){this.currentPair=this.ask(this.root),this.backupTree=(new Z).setup(this.root)},backup(){this.backupPair=this.currentPair.slice(),this.backupTree.setup(this.root)},restore(){this.currentPair=this.backupPair.slice(),this.backupPair=null,this.currentRank=0,this.root=this.backupTree.restore()},ask(t,e){if(e){const n=t.findSortObjectById(e[0].id),s=t.findSortObjectById(e[1].id);if(null!==n&&null!==s)return[n,s]}if(0===t.children.length)return!1;if(1===t.children.length)return this.currentRank=t.level()+1,this.ask(t.children[0]);const n=[0,0];for(;n[0]===n[1];)for(const e of[0,1])n[e]=Math.floor(Math.random()*t.children.length);return[t.children[n[0]],t.children[n[1]]]},getNextPair(t){return this.currentPair=t?this.ask(this.root,this.currentPair):this.ask(this.root),!!(this.currentPair&&this.currentPair[1].level()<=this.ranknum)&&(this.questionCount+=1,!0)},moveOn(t){return this.getNextPair(t)},selectChar(t){this.backup(),this.currentPair[t].add(this.currentPair[1-t],!1),this.isPrevious=!1,this.moveOn(!1)},exclude(...t){this.backup();for(let e of t)this.currentPair[e].remove();this.moveOn(!1)},previous(){this.restore(),this.questionCount-=2,this.isPrevious=!0,this.moveOn(!0)},randomPick(){const t=Math.floor(2*Math.random());this.selectChar(t)},randomPickForAll(){let t=Math.floor(2*Math.random());this.currentPair[t].add(this.currentPair[1-t],!1);let e=this.ask(this.root);for(;e&&e[1].level()<=this.ranknum;)this.questionCount+=1,t=Math.floor(2*Math.random()),e[t].add(e[1-t],!1),e=this.ask(this.root);this.moveOn(!1)}}},A={props:["node","face"],data:()=>({loading:!0}),watch:{src(t){this.check(this.$refs.img)}},computed:{src(){return this.$khrisma.favoriteImage(this.node.id,this.face)}},methods:{check(t){this.loading=!t.src.endsWith(this.src)}}},O=(n(260),{components:{Character:Object(r.a)(A,(function(){var t=this,e=t._self._c;return e("div",{class:["char-view",{loading:t.loading}],on:{click:function(e){return e.stopPropagation(),t.$emit("click")}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"img",attrs:{src:t.src,alt:t.node.name},on:{load:function(e){return t.check(e.target)}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mask"},[e("i",{staticClass:"icon-spinner"})]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.node.name))]),t._v(" "),e("div",{staticClass:"nick"},[t._v(t._s(t.node.nick))])])])}),[],!1,null,"fbbaf400",null).exports,Button:s.default},mixins:[B],props:["characters","ranknum","face"],created(){this.root=new u(0),this.characters.forEach(t=>{this.root.add(p[t].clone())}),this.init()},methods:{moveOn(t){if(this.getNextPair(t))return;const{questionCount:e}=this,n=[];let s=this.root;for(let t=0;t<this.ranknum&&(s=s.children[0],s);t++)n.push(s.name);this.$emit("next","Result",{ranking:n,questionCount:e})}}}),P=(n(261),Object(r.a)(O,(function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"tac"},[t._v("\n    第 "+t._s(t.questionCount)+" 轮：请"),e("span",{staticClass:"emphasize"},[t._v("点击图片")]),t._v("选择更喜欢的角色\n  ")]),t._v(" "),t.currentRank>0?e("h4",{staticClass:"tac"},[t._v("\n    排名第 "+t._s(t.currentRank)+" 的角色已经确定\n  ")]):t._e(),t._v(" "),e("table",{staticClass:"tac"},[e("tr",{staticClass:"characters"},[e("td",[e("Character",{attrs:{face:t.face,node:t.currentPair[0]},on:{click:function(e){return t.selectChar(0)}}})],1),t._v(" "),e("td",[e("Character",{attrs:{face:t.face,node:t.currentPair[1]},on:{click:function(e){return t.selectChar(1)}}})],1)]),t._v(" "),e("tr",[e("td",[e("Button",{attrs:{title:"将左边的角色从剩余问题的角色列表中剔除"},on:{click:function(e){return t.exclude(0)}}},[t._v("\n          不再出现左边的角色\n        ")])],1),t._v(" "),e("td",[e("Button",{attrs:{title:"将右边的角色从剩余问题的角色列表中剔除"},on:{click:function(e){return t.exclude(1)}}},[t._v("\n          不再出现右边的角色\n        ")])],1)]),t._v(" "),e("tr",[e("td",[e("Button",{attrs:{title:"将两边的角色从剩余问题的角色列表中剔除"},on:{click:function(e){return t.exclude(0,1)}}},[t._v("\n          不再出现这两个角色\n        ")])],1),t._v(" "),e("td",[e("Button",{attrs:{title:"重新作答上一题",disabled:1===t.questionCount||this.isPrevious},on:{click:t.previous}},[t._v("\n          等下，选错了……\n        ")])],1)]),t._v(" "),e("tr",[e("td",[e("Button",{attrs:{title:"本题随机作答"},on:{click:t.randomPick}},[t._v("\n          随便替我选个叭\n        ")])],1),t._v(" "),e("td",[e("Button",{attrs:{title:"本题及接下来的所有题随机作答"},on:{click:t.randomPickForAll}},[t._v("\n          累了，之后都随便选叭\n        ")])],1)]),t._v(" "),e("tr",[e("td",{attrs:{colspan:"2"}},[e("Button",{attrs:{title:"返回主界面",type:"warning"},on:{click:function(e){return t.$emit("next","Settings")}}},[t._v("\n          返回主界面\n        ")])],1)])])])}),[],!1,null,"97527db0",null).exports),M=n(237),j=n(235);function E(t){const e={};for(const n in{ranknum:10,face:"default",range:"abcdefghijky"})e[n]=t[n];if("undefined"!=typeof localStorage)try{const t={version:1,settings:e};localStorage.setItem("khrisma.barank.settings",JSON.stringify(t))}catch(t){console.warn("An error was encounted when stringifying settings."),console.warn(t)}return e}const $=[10,1,5,20,30,50,100],R=$.slice().reverse();var G={components:{Button:s.default,Checkbox:j.default,Radio:M.default},data:()=>function(){const t={ranknum:10,face:"default",range:"abcdefghijky"};if("undefined"==typeof localStorage)return t;const e=localStorage.getItem("khrisma.barank.settings");if(!e)return t;try{const{version:n,settings:s}=JSON.parse(e);return 1===n?{...t,...s}:t}catch(n){return console.warn("An error was encounted when parsing settings:\n"+e),t}}(),created(){this.faces=v,this.ranks=$,this.games=g.a,this.stg="abcdefghijky",this.other="ABDEGHIJKLMNY",this.old="Z",this.all=this.other+this.stg+this.old,this.ranknum||(this.ranknum=1/0)},watch:{"characters.length"(t){this.ranknum!==1/0&&t&&this.ranknum>t&&(this.ranknum=R.find(e=>e<=t))}},computed:{characters(){return C(this.range)},allSelected:{get(){return this.range.length===this.all.length},set(t){this.range=t?this.all:""}},allStgSelected:{get(){for(let t of this.stg)if(!this.range.includes(t))return!1;return!0},set(t){const e=this.range.match(/^[A-Z]*/)[0];this.range=e+(t?this.stg:"")}},otherSelected:{get(){for(let t of this.other)if(!this.range.includes(t))return!1;return!0},set(t){const e=this.range.match(/[Za-y]*$/)[0];this.range=(t?this.other:"")+e}},oldSelected:{get(){for(let t of this.old)if(!this.range.includes(t))return!1;return!0},set(t){const e=this.range.match(/[a-z]*$/)[0],n=this.range.match(/^[A-Y]*/)[0];this.range=n+(t?this.old:"")+e}}},methods:{toggleGame(t){const e=this.range.indexOf(t),n=this.range.split("");e>-1?(n.splice(e,1),this.range=n.join("")):(n.push(t),this.range=n.sort().join(""))},nextPart(){const{characters:t}=this;this.$emit("next","Select",{characters:t,...E(this)})},toAboutPage(){E(this),this.$router.push(this.UZKK_FAVORITE_BASE+"about.html")},useFallback(){!function(t){const e={ranknum:10,face:"default",range:"abcdefghijky"};Object.assign(t,e)}(this)}}},I={components:{Result:S,Select:P,Settings:Object(r.a)(G,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"section"},[e("p",{staticClass:"title"},[e("Checkbox",{attrs:{label:"所有学生"},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}})],1),t._v(" "),e("ul",[e("li",[e("p",[e("Checkbox",{attrs:{label:"已实装学生"},model:{value:t.allStgSelected,callback:function(e){t.allStgSelected=e},expression:"allStgSelected"}})],1),t._v(" "),e("ul",t._l(t.games.integer,(function(n,s){return e("li",{key:s,staticClass:"inline medium"},[e("Checkbox",{attrs:{value:t.range.includes(n.tag),label:n.name},on:{update:function(e){return t.toggleGame(n.tag)}}})],1)})),0)]),t._v(" "),e("li",[e("p",[e("Checkbox",{attrs:{label:"NPC及卫星"},model:{value:t.otherSelected,callback:function(e){t.otherSelected=e},expression:"otherSelected"}})],1),t._v(" "),e("ul",t._l(t.games.others,(function(n,s){return e("li",{key:s,staticClass:"inline medium"},[e("Checkbox",{attrs:{value:t.range.includes(n.tag),label:n.name},on:{update:function(e){return t.toggleGame(n.tag)}}})],1)})),0)])])]),t._v(" "),e("div",{staticClass:"section"},[t._l(t.games.old,(function(n,s){return e("li",{key:s},[e("p",{staticClass:"list"},[e("span",{staticStyle:{"margin-right":"1.6em"}},[t._v("启用杂鱼酱：")]),t._v(" "),e("Checkbox",{attrs:{value:t.range.includes(n.tag),label:n.name},on:{update:function(e){return t.toggleGame(n.tag)}}})],1)])})),t._v(" "),e("hr"),t._v(" "),e("p",{staticClass:"list"},[e("span",[t._v("选择排名数：")]),t._v(" "),e("ul",{staticClass:"inline"},[t._l(t.ranks,(function(n,s){return[n<=t.characters.length||!t.characters.length?e("li",{key:s,staticClass:"inline short"},[e("Radio",{attrs:{label:n},model:{value:t.ranknum,callback:function(e){t.ranknum=e},expression:"ranknum"}})],1):t._e()]})),e("li",{key:"-1",staticClass:"inline short"},[e("Radio",{attrs:{label:1/0,disabled:!t.characters.length},model:{value:t.ranknum,callback:function(e){t.ranknum=e},expression:"ranknum"}},[t._v("\n              全选 ("+t._s(t.characters.length)+")\n            ")])],1)],2)]),t._v(" "),e("hr"),t._v(" "),e("p",{staticClass:"list"},[e("span",{staticStyle:{"margin-right":"-1em"}},[t._v("选择立绘表情：")]),t._v(" "),e("ul",{staticClass:"inline"},t._l(t.faces,(function(n,s){return e("li",{key:s,staticClass:"inline short"},[e("Radio",{attrs:{label:s},model:{value:t.face,callback:function(e){t.face=e},expression:"face"}},[t._v(t._s(n))])],1)})),0)])],2),t._v(" "),e("div",{staticClass:"button-container"},[e("Button",{attrs:{disabled:!t.range.length},on:{click:t.nextPart}},[t._v("\n        开始\n      ")]),t._v(" "),e("Button",{on:{click:t.useFallback}},[t._v("\n        恢复默认设置\n      ")]),t._v(" "),e("Button",{on:{click:t.toAboutPage}},[t._v("\n        关于本命测试\n      ")])],1)])}),[],!1,null,null,null).exports,FadeSlideTransition:n(15).default},data:()=>({phase:"Settings",state:{}}),mounted(){d.a.forEach(([t])=>{for(const e in v){const n=document.head.appendChild(document.createElement("link"));n.rel="prefetch",n.href=this.$khrisma.favoriteImage(t,e)}})},methods:{updatePhase(t,e){Object.assign(this.state,e),this.phase=t}}},N=(n(262),Object(r.a)(I,(function(){var t=this._self._c;return t("FadeSlideTransition",[t(this.phase,this._b({key:this.phase,tag:"component",staticClass:"favorite",on:{next:this.updatePhase}},"component",this.state,!1))],1)}),[],!1,null,null,null));e.default=N.exports}}]);